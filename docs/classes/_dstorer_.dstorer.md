[@ecomv3/document](../README.md) › [Globals](../globals.md) › ["DStorer"](../modules/_dstorer_.md) › [DStorer](_dstorer_.dstorer.md)

# Class: DStorer

This class stores Documents into a configurable backend

## Hierarchy

* **DStorer**

## Implements

* [IStore](../interfaces/_types_.istore.md)

## Index

### Constructors

* [constructor](_dstorer_.dstorer.md#constructor)

### Properties

* [_backend](_dstorer_.dstorer.md#_backend)
* [_store](_dstorer_.dstorer.md#_store)
* [docs](_dstorer_.dstorer.md#docs)
* [env](_dstorer_.dstorer.md#env)
* [isTest](_dstorer_.dstorer.md#istest)
* [namespace](_dstorer_.dstorer.md#namespace)
* [ref](_dstorer_.dstorer.md#ref)

### Methods

* [batch](_dstorer_.dstorer.md#batch)
* [cleanUp](_dstorer_.dstorer.md#cleanup)
* [from](_dstorer_.dstorer.md#from)
* [transaction](_dstorer_.dstorer.md#transaction)

## Constructors

###  constructor

\+ **new DStorer**(`backend`: [IStorer](../interfaces/_types_.istorer.md), `env`: string, `namespace`: string, `ref`: [Ref](../modules/_types_.md#ref), `opts`: any): *[DStorer](_dstorer_.dstorer.md)*

*Defined in [DStorer.ts:54](https://github.com/davidtai/ecom3/blob/bf442b9/packages/document/src/DStorer.ts#L54)*

Create a DStorer

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`backend` | [IStorer](../interfaces/_types_.istorer.md) | - | Supply an IStorer Object such as the FireBaseStorer |
`env` | string | "dev" | - |
`namespace` | string | "dev-org" | - |
`ref` | [Ref](../modules/_types_.md#ref) |  SYSTEM_REF | use to set the interaction reference for creates, updates, and deletes  |
`opts` | any |  {} | - |

**Returns:** *[DStorer](_dstorer_.dstorer.md)*

## Properties

###  _backend

• **_backend**: *[IStorer](../interfaces/_types_.istorer.md)*

*Defined in [DStorer.ts:38](https://github.com/davidtai/ecom3/blob/bf442b9/packages/document/src/DStorer.ts#L38)*

Backend for storage

___

###  _store

• **_store**: *[IStore](../interfaces/_types_.istore.md)*

*Defined in [DStorer.ts:43](https://github.com/davidtai/ecom3/blob/bf442b9/packages/document/src/DStorer.ts#L43)*

Instance of store generated by the backend

___

###  docs

• **docs**: *[IDocument](../interfaces/_types_.idocument.md)[]* =  []

*Defined in [DStorer.ts:54](https://github.com/davidtai/ecom3/blob/bf442b9/packages/document/src/DStorer.ts#L54)*

Record all docs if test mode

___

###  env

• **env**: *string*

*Defined in [DStorer.ts:23](https://github.com/davidtai/ecom3/blob/bf442b9/packages/document/src/DStorer.ts#L23)*

Environement which is being used

___

###  isTest

• **isTest**: *boolean*

*Defined in [DStorer.ts:48](https://github.com/davidtai/ecom3/blob/bf442b9/packages/document/src/DStorer.ts#L48)*

Is test mode?

___

###  namespace

• **namespace**: *string*

*Implementation of [IStore](../interfaces/_types_.istore.md).[namespace](../interfaces/_types_.istore.md#namespace)*

*Defined in [DStorer.ts:28](https://github.com/davidtai/ecom3/blob/bf442b9/packages/document/src/DStorer.ts#L28)*

Namespace which is being used

___

###  ref

• **ref**: *[Ref](../modules/_types_.md#ref)*

*Defined in [DStorer.ts:33](https://github.com/davidtai/ecom3/blob/bf442b9/packages/document/src/DStorer.ts#L33)*

Current Ref to attribute interactions to

## Methods

###  batch

▸ **batch**(): *any*

*Implementation of [IStore](../interfaces/_types_.istore.md)*

*Defined in [DStorer.ts:109](https://github.com/davidtai/ecom3/blob/bf442b9/packages/document/src/DStorer.ts#L109)*

**Returns:** *any*

___

###  cleanUp

▸ **cleanUp**(): *Promise‹any›*

*Defined in [DStorer.ts:82](https://github.com/davidtai/ecom3/blob/bf442b9/packages/document/src/DStorer.ts#L82)*

Clean up docs if in test mode

**Returns:** *Promise‹any›*

___

###  from

▸ **from**(`col`: string): *[IStoreCollection](../interfaces/_types_.istorecollection.md)*

*Defined in [DStorer.ts:94](https://github.com/davidtai/ecom3/blob/bf442b9/packages/document/src/DStorer.ts#L94)*

**Parameters:**

Name | Type |
------ | ------ |
`col` | string |

**Returns:** *[IStoreCollection](../interfaces/_types_.istorecollection.md)*

___

###  transaction

▸ **transaction**(`fn`: function): *Promise‹any›*

*Defined in [DStorer.ts:105](https://github.com/davidtai/ecom3/blob/bf442b9/packages/document/src/DStorer.ts#L105)*

**Parameters:**

▪ **fn**: *function*

▸ (`transaction`: any): *void*

**Parameters:**

Name | Type |
------ | ------ |
`transaction` | any |

**Returns:** *Promise‹any›*
